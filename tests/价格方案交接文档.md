# 价格方案模块前端交接文档
## 模块业务
> 参考资料：  
> * PRD：  无
> * 原型：(svn)03.需求开发\原型\二阶段\PRD界面原型设计_合同价格管理0426@.rp
> * 后台接口：（svn）07.详细设计\接口文档-价格方案
> * 输入项文档：见下文  
> * UI文档：https://lanhuapp.com/web/#/item
> * 需求评审：见钉钉直播回放（共三次）
> * 用例评审：见钉钉直播回放（一次）

### 业务逻辑  
    价格方案模块与“合同模板”和“销售规则”共同作为合同管理中，创建合同的前置条件，合同会引用除“多维度定价”外的大部分字段。  
### 输入项文档
-
   页面名称: 方案名称
   字段名称: Y
   是否必要（Y/N）: 输入
   输入类型: 格式：中文、字符、英文、数字；        限：64字符
   输入规则: "错误：输入格式有误！                 错误：输入字数超限！
   提示语: undefined
   备注: undefined
-
   页面名称: 漏填：请输入方案名称！"
   字段名称: undefined
   是否必要（Y/N）: undefined
   输入类型: undefined
   输入规则: undefined
   提示语: undefined
   备注: undefined
-
   页面名称: 有效期起
   字段名称: N
   是否必要（Y/N）: 时间控件
   输入类型: 精确到分
   输入规则: undefined
   提示语: undefined
   备注: undefined
-
   页面名称: 有效期止
   字段名称: N
   是否必要（Y/N）: 时间控件
   输入类型: 精确到分
   输入规则: undefined
   提示语: undefined
   备注: undefined
-
   页面名称: 客户名称
   字段名称: Y
   是否必要（Y/N）: 输入+下拉选
   输入类型: "系统内置
   输入规则: undefined
   提示语: undefined
   备注: undefined
-
   页面名称: 格式：中文、字符、英文、数字；    
   字段名称: undefined
   是否必要（Y/N）: undefined
   输入类型: undefined
   输入规则: undefined
   提示语: undefined
   备注: undefined
-
   页面名称: 限：64字符"
   字段名称: "错误：输入格式有误！                  错误：输入字数超限！
   是否必要（Y/N）: undefined
   输入类型: undefined
   输入规则: undefined
   提示语: undefined
   备注: undefined
-
   页面名称: 漏填：请选择客户名称！"
   字段名称: 漏填或漏选均按漏填提示
   是否必要（Y/N）: undefined
   输入类型: undefined
   输入规则: undefined
   提示语: undefined
   备注: undefined
-
   页面名称: 付款条件
   字段名称: N
   是否必要（Y/N）: 输入
   输入类型: 格式：中文、字符、英文、数字；        限：128字符
   输入规则: 错误：输入格式有误！                 错误：输入字数超限！
   提示语: undefined
   备注: undefined
-
   页面名称: 付款期限
   字段名称: N
   是否必要（Y/N）: 输入
   输入类型: 格式：数字；                       不限制
   输入规则: 错误：输入格式有误！                 错误：输入字数超限！
   提示语: undefined
   备注: undefined
-
   页面名称: 定价说明
   字段名称: N
   是否必要（Y/N）: 输入
   输入类型: 格式：中文、字符、英文、数字；        限：512字符
   输入规则: 错误：输入格式有误！                 错误：输入字数超限！
   提示语: undefined
   备注: undefined
-
   页面名称: 附件
   字段名称: N
   是否必要（Y/N）: 上传
   输入类型: 格式：Excel、PDF、Word、PNG、JPG、RAR、ZIP；                         限：20MB 
   输入规则: 错误：上传文件格式有误！                 错误：文件大小超限！
   提示语: undefined
   备注: undefined
-
   页面名称: 新增商品
   字段名称: 合约价格
   是否必要（Y/N）: Y
   输入类型: 输入
   输入规则: 格式：数字，保留两位小数；                       不限制
   提示语: 错误：输入格式有误！                 错误：输入字数超限！                 漏填：请输入合约价格
   备注: 保留小数点后两位的正数。
-
   页面名称: 合约数量
   字段名称: Y
   是否必要（Y/N）: 输入
   输入类型: 格式：数字；                       不限制
   输入规则: 错误：输入格式有误！                 错误：输入字数超限！                 漏填：请输入合约价格
   提示语: undefined
   备注: undefined
-
   页面名称: 库房
   字段名称: Y
   是否必要（Y/N）: 下拉选
   输入类型: 系统内置（从物流中取）
   输入规则: 漏填：请选择库房
   提示语: undefined
   备注: undefined
-
   页面名称: 提货方式
   字段名称: Y
   是否必要（Y/N）: 下拉选
   输入类型: 系统内置（自提、配送）
   输入规则: 漏填：请选择提货方式
   提示语: undefined
   备注: undefined
-
   页面名称: 运输方式
   字段名称: Y
   是否必要（Y/N）: 下拉选
   输入类型: 系统内置（汽车、船舶、铁路、管道、多式联运）
   输入规则: 漏填：请选择运输方式
   提示语: undefined
   备注: undefined
-
   页面名称: 锁价方式
   字段名称: Y
   是否必要（Y/N）: 下拉选
   输入类型: 系统内置（下单锁价、二次定价）
   输入规则: 漏填：请选择锁价方式
   提示语: undefined
   备注: undefined
-
   页面名称: 订单类型
   字段名称: Y
   是否必要（Y/N）: 下拉选
   输入类型: 系统内置（库存销售、已售未提）
   输入规则: 漏填：请选择订单类型
   提示语: undefined
   备注: undefined
-
   页面名称: 业务类型
   字段名称: Y
   是否必要（Y/N）: 下拉选
   输入类型: 系统内置（批直、串换、海供、铁路专项、内部销售、贸易）
   输入规则: 漏填：请选择业务类型
   提示语: undefined
   备注: undefined
-
   页面名称: 阶梯定价
   字段名称: 区域价格-区域
   是否必要（Y/N）: Y
   输入类型: 位置选择控件
   输入规则: 系统内置（选择省、市、区）
   提示语: 漏填：请选择区域
   备注: undefined
-
   页面名称: 区域价格-价格
   字段名称: Y
   是否必要（Y/N）: 输入
   输入类型: 格式：数字；                       不限制
   输入规则: 错误：输入格式有误！                 错误：输入字数超限！                 漏填：请输入价格
   提示语: 保留小数点后两位的正数。
   备注: undefined
-
   页面名称: 数量阶梯折扣值-区间起
   字段名称: Y
   是否必要（Y/N）: 输入
   输入类型: 格式：数字；                       不限制
   输入规则: 错误：输入格式有误！                 错误：输入字数超限！                 漏填：请输入数量阶梯！
   提示语: undefined
   备注: undefined
-
   页面名称: 数量阶梯折扣值-区间止
   字段名称: Y
   是否必要（Y/N）: 输入
   输入类型: 格式：数字；                       不限制
   输入规则: 错误：输入格式有误！                 错误：输入字数超限！                 漏填：请输入数量阶梯！
   提示语: undefined
   备注: undefined
-
   页面名称: 数量阶梯折扣值-区间价格
   字段名称: Y
   是否必要（Y/N）: 输入
   输入类型: 格式：数字，保留两位小数；                       不限制
   输入规则: 错误：输入格式有误！                 错误：输入字数超限！                 漏填：请输入价格！
   提示语: undefined
   备注: undefined
-
   页面名称: 站点类型加价-站点类型
   字段名称: Y
   是否必要（Y/N）: 下拉选
   输入类型: 系统内置（贸易、终端、代理终端）
   输入规则: 漏填：请选择站点类型！
   提示语: undefined
   备注: undefined
-
   页面名称: 站点类型加价-价格
   字段名称: Y
   是否必要（Y/N）: 输入
   输入类型: 格式：数字，保留两位小数；                       不限制
   输入规则: 错误：输入格式有误！                 错误：输入字数超限！                 漏填：请输入价格！
   提示语: undefined
   备注: undefined

## 代码目录
### 组件目录
    |- compotents
        |-contract //主要为多维度定价模态窗组件
### 页面目录
    |- PricePlanManage
        | - index //列表页
        | - PricePlanManageAdd // 新建页
        | - PricePlanManageDetail // 详情页
        | - editTable // 新建页子组件，在此引用多维度定价组件
### model目录
    |- PricePlanManage // 每个异步请求有注释
### service目录
    | - PricePlanManage // 每个API有注释
## 遗留问题  
1.页面样式细节与UI设计稿比对需要调整，如input的宽度等  
2.区域选择接口之后电商可能要改成根据不同客户筛选不同区域，目前给的是省、市、县联动，经联调好使，但接口数据之前断过，为了不影响我们自己的流程（区间价格为必填），现用假数据代替。
3.多维度定价现在没有返显。  
4.金额单位、数量单位目前还没有确定，金额如果确认存的是分，前台需要*100传给后台。  
5.所有输入项校验需要完善，具体参照。  
6.上传功能还没有经过测试。  
